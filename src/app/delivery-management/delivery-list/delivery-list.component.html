<div class="page-header">
    <h3 class="page-title">
      Manage delivery| 
      <a class="" routerLink="delivery-detail" routerLinkActive="active" #deliveries="routerLinkActive"> 
        <i class="mdi mdi-database-plus"></i>
      </a>
    </h3>
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="javascript:;">Delivrery management</a></li>
        <li class="breadcrumb-item active" aria-current="page">List of Deliveries</li>
      </ol>
    </nav>
  </div>
  <div class="row">        
    <div class="col-lg-12 grid-margin stretch-card"  *ngIf="deliverylist && deliverylist.length; else noData" > <!--check if the list is >1 to display the panel if not, do the else-->
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">Liste of deliveries</h4>
          <!-- <p class="card-description">
            Add class <code>.table-bordered</code>
          </p> -->
          <div class="table-responsive pt-3">
            <table class="table table-bordered">
              <thead>
                <tr>
                  <th>
                    #
                  </th>
                  <th>
                    Reference
                  </th>
                  <th>
                    Date Delivery
                  </th>
                  <th>
                    Client
                  </th>
                  <th>
                    Agent
                  </th>
                  <!-- <th>
                    Delivery Amount
                  </th> -->
                  <th>
                    Delivery Amount
                  </th>
                  <th>
                  </th>
                  <!-- <th>
                  </th> -->
                </tr>
              </thead>
              <tbody>
                <tr  *ngFor="let delivery of deliverylist; index as i;">
                  <td>
                    {{i+1}}
                  </td>
                  <td>
                    {{delivery.reference}}
                  </td>
                  <td>
                    {{delivery.datedelivery| date:'dd/MM/yyyy'}}
                  </td>
                  <td>
                    {{delivery.client.cname.fname}} {{delivery.client.cname.lname}}
                  </td>
                  <td>
                    {{delivery.agent.aname.fname}}  {{delivery.agent.aname.lname}}
                  </td>
                  <td>
                    {{getTotaldelivery(delivery.productlist)}} GHS
                  </td>
                  <td>
                    <a class="nav-link" [routerLink]="['delivery-detail', delivery['_id']]" routerLinkActive="active" #deliveries="routerLinkActive"> 
                      <i class="mdi mdi-apps"></i>
                    </a>
                  </td>
                  <!-- <td>
                    <a class="nav-link" routerLink="delivery-settings" routerLinkActive="active" #register="routerLinkActive"> 
                      <i class="remove mdi mdi-close" (click)="removeTodoItem(product)"></i>
                    </a>
                  </td> -->
                </tr>
                
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <ng-template #noData> <!-- to display if no data present in the db -->
      <img src="../../../assets/tinymce/skins/lightgray/img/loader.gif"><!-- *ngIf="loading"  -->
      <img class="pl-3" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />                            
  </ng-template>
  </div>