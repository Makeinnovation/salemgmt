<!-- <form class="add-items d-flex mb-0 mt-2" [formGroup]="form" (ngSubmit)="addTodo()">
    <input type="text" class="form-control todo-list-input" formControlName="todoitem" placeholder="Add new product">
    <button class="add btn btn-primary todo-list-add-btn py-2" type="submit" [disabled]="form.invalid">Add</button>
</form> -->
<br/>
<form class="forms-sample" [formGroup]="form" (ngSubmit)="addPorduct()"><!-- add-items d-flex mb-0 mt-2 -->
    <!-- <input type="text" class="form-control todo-list-input" formControlName="todoitem" placeholder="Add new product"> -->
    
    <div class="form-group row">
        <label for="exampleFormControlSelect3" class="col-sm-3 col-form-label">Add new product:</label>
        <div class="col-sm-9">
            <select class="form-control form-control-sm todo-list-input form_input m-1" id="exampleFormControlSelect3"
            [(ngModel)]= "SelectedItem" (ngModelChange)="selectProduct($event)" [ngModelOptions]="{standalone: true}"
            name="exampleFormControlSelect3">
                <option value="default" disabled>--select product--</option>
                <option *ngFor="let item of systemlistproduct; index as i; trackBy: trackByFn"
                [ngValue]="item">
                  {{item.name}}
                </option>
            </select>
        </div>
      </div>

      <!-- <select class="m-1" id="exampleFormControlSelect3" [formControl]="select"
            >
        <option disabled>select product</option>
        <option *ngFor="let item of systemlistproduct; index as i; trackBy: trackByFn"
        [value]="item" [selected]="selectedOption(default)">
        {{item.name}}
        </option>
            </select> -->

    <!-- <button class="add btn btn-primary todo-list-add-btn py-2" type="submit" [disabled]="form.invalid">Add</button>     -->
</form>

          <div class="table-responsive pt-3">
            <table class="table table-bordered table-striped">
              <thead>
                <tr>
                  <th>
                    #
                  </th>
                  <th>
                    Ref#
                  </th>                  
                  <th>
                    Product
                  </th>
                  <th>
                    Unit
                  </th>
                  <th>
                    Quantity
                  </th>
                  <th>
                    Delivery price
                  </th>
                  <th>
                    Amount
                  </th>
                  <th>
                    -
                  </th>
                </tr>
              </thead>
              <tbody>
                <!-- *ngFor="let delivery of detail.productlist; index as i; trackBy: trackByFn" -->
                <tr class="" *ngFor="let product of ProductArray; index as i; trackBy: trackByFn">
                  <td>
                    {{i}}
                  </td>
                  <td>
                    {{product['reference']}}
                  </td>
                  <td>
                    {{product['name']}}
                  </td>
                  <td>
                    {{product['unitproduct'][0].name}} <code>({{product['unitproduct'][0].abs}})</code>
                  </td>
                  <td>
                    <!-- {{product['quantity']}} -->
                    <div class="col-sm-9">
                      <input type="text" class="form-control form_input" [(ngModel)]="product['quantity']" 
                      #quantity="ngModel" name="quantity" (change)="valuechange($event, quantity, i)"/>
                    </div>                    
                  </td>
                  <td>
                    {{price(product['delivery_price'])}}
                    <div class="col-sm-9">
                      <input type="text" class="form-control form_input" [(ngModel)]="product['delivery_price']"
                      #delivery_price="ngModel" name="delivery_price" (change)="valuechange($event, delivery_price, i)"/>
                    </div>
                  </td>
                  <td>
                   {{ getAmount(product) }}
                  </td>
                  
                  <td>
                    <i class="remove mdi mdi-close" (click)="removeTodoItem(todo)"></i>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

<!-- <div class="list-wrapper pt-2">
    <ul class="d-flex flex-column-reverse todo-list todo-list-custom">
      <li *ngFor="let todo of todoArray; let i = index" [ngClass]="{'completed' : todo.completed }">
        <div class="form-check form-check-flat">
          <label class="form-check-label">
            <input class="checkbox" type="checkbox" (change)="changeTodoStatus($event, i)">
            {{todo.task}}
            <i class="input-helper"></i>
          </label>
        </div>
        <i class="remove mdi mdi-close" (click)="removeTodoItem(todo)"></i>
      </li>
    </ul>
</div> --> 